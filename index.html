<!DOCTYPE HTML>
<html><head><META CHARSET='UTF-8'><title>PsyToolkit run experiment</title>
</head>
<body onload="whenloaded()">
<script>
function tmpmouse(e){MouseX=e.clientX-c.getBoundingClientRect().left;MouseY=e.clientY-c.getBoundingClientRect().top; if(MouseX>275 && MouseX<725 && MouseY>125 && MouseY<475){window.removeEventListener('mousedown', tmpmouse, false);main();}}

function whenloaded(){
tmp1 = document.getElementById('exp');
 tmp2 = tmp1.getContext('2d');
 tmp2.fillStyle='red';
 tmp2.fillRect(275,125,450,350);
 tmp2.fillStyle='yellow';
 tmp2.font='24px Arial';
 tmp2.textAlign='center';
 tmp2.fillText('Click to start',500,300);
 window.addEventListener('mousedown', tmpmouse, false) // use this listener only when needed
}</script>
<center><div id='cbox'
    style='width:1000;height:600;border:0px
    solid black;background-color:black'><canvas tabindex='1'
    id="exp" width="1000"
    height="600" style="outline:none;display:
    block;
    background-color:black;border:none;padding:0;margin:0;"></canvas></div></center>
<script>
 var click_to_start_text = Click to start;

 tmp1 = document.getElementById('exp');
 tmp2 = tmp1.getContext('2d');
 tmp2.fillStyle='grey';
 tmp2.fillRect(275,125,450,350);
 tmp2.fillStyle='blue';
 tmp2.font='24px Arial';
 tmp2.textAlign='center';
 tmp2.fillText('Wait a second ...',500,300);
</script>
<script>
var MAXSPRITES=100;var MAXBITMAPS=1e3;var PSY_CENTRAL=-99999;var MAX_FONTS=100;var psy_font_number=0;var psy_fonts=new Array;var psy_fonts_size=new Array;var PSY_VIDEO_DOUBLEBUFFER=1;var PSY_KEY_STATUS_CORRECT=1;var PSY_KEY_STATUS_WRONG=2;var PSY_KEY_STATUS_TIMEOUT=3;var psy_screen_center_x=0;var psy_screen_x_offset=0;var psy_screen_center_y=0;var psy_screen_y_offset=0;var psy_screen_width=800;var psy_screen_height=600;var psy_exp_start_time=0;var psy_exp_current_time=0;var psy_blockorder=1;var tablerow=0;var keystatus={key:0,status:0,time:0,totaltime:0,mouse_x:0,mouse_y:0,bitmap:0};var possiblekeys=new Array;var readkeys_option_size=0;var readkeys_option_show=1;var readkeys_option_font=0;var mousestatus={key:0,status:0,time:0,totaltime:0,x:0,y:0};var c=document.getElementById("exp");var canvas_x_offset=c.getBoundingClientRect().left;var canvas_y_offset=c.getBoundingClientRect().top;var psy_mouse_cursor=0;var psy_mouse_store=0;var ctx=c.getContext("2d");var log=document.getElementById("log");var output=document.getElementById("Output");outputdata=String();var psy_bitmaps=new Array;var psy_bitmaps_loaded=0;var psy_sounds_loaded=0;var bmp_number=0;var psy_sounds=new Array;var psy_sound_number=0;function psy_stimuli_loaded(){var percentage=0;total_stimuli=bmp_number+psy_sound_number;total_loaded=psy_bitmaps_loaded+psy_sounds_loaded;if(total_stimuli>0)percentage=Math.round(total_loaded/total_stimuli*100);else percentage=100;tmp=psy_bitmaps_loaded<bmp_number||psy_sounds_loaded<psy_sound_number;if(tmp&&percentage<100)return percentage;if(tmp&&percentage==100)return 99;if(psy_bitmaps_loaded==bmp_number&&psy_sounds_loaded==psy_sound_number)return 100}function when_stimuli_loaded_do(functionname){tmp=psy_stimuli_loaded();ctx.fillStyle=hexrgb(0,0,0);ctx.fillRect(0,0,psy_screen_width,psy_screen_height);ctx.font="30px Arial";ctx.fillStyle="white";ctx.textAlign="left";if(tmp<100){if(tmp==0)ctx.fillText("Loading data",100,100);else ctx.fillText("Loading data "+tmp+"%",100,100);setTimeout(when_stimuli_loaded_do,250,functionname)}else{setTimeout(functionname,0)}}function psy_load_bitmap(name){psy_bitmaps[bmp_number]=new Image;psy_bitmaps[bmp_number].onload=function(){psy_bitmaps_loaded++};psy_bitmaps[bmp_number].src=name;bmp_number++;return bmp_number-1}function psy_load_sound(name){psy_sounds[psy_sound_number]=new Audio;psy_sounds[psy_sound_number].onloadeddata=function(){psy_sounds_loaded++};psy_sounds[psy_sound_number].src=name;psy_sound_number++;return psy_sound_number-1}function psy_play(sound){psy_sounds[sound-1].play()}function psy_silence(sound){psy_sounds[sound-1].pause();psy_sounds[sound-1].currentTime=0}function psy_load_font(name,size){psy_fonts[psy_font_number]=size+"pt "+name;psy_fonts_size[psy_font_number]=size;psy_font_number++;return psy_font_number-1}function addlog(text){if(log!=null){log.value+=text+"\n";log.scrollTop=log.scrollHeight}}function addoutput(text){if(output!=null)output.value+=text+"\n";outputdata=outputdata+text+"\n"}function hexrgb(r,g,b){h="#";if(r<16)h=h+"0"+r.toString(16);else h=h+r.toString(16);if(g<16)h=h+"0"+g.toString(16);else h=h+g.toString(16);if(b<16)h=h+"0"+b.toString(16);else h=h+b.toString(16);return h}starttime=0;function psy_expect_keyboard(){psy_readkey.expect_keyboard=true;window.addEventListener("keydown",getkeydown,true);window.addEventListener("keyup",getkeyup,true);psy_readkey.keyupeventlistener=true;psy_readkey.keydowneventlistener=true}function psy_expect_mouse(){psy_readkey.expect_mouse=true}function psy_keyboard(possiblekeys,nkeys,correctkey,maxtime){psy_readkey.expectedkey=possiblekeys[correctkey];psy_readkey.keys=possiblekeys;psy_expect_keyboard();psy_readkey.start(current_task,maxtime)}var psy_readkey={lasttask:"",starttime:0,readkeytimer:"",rt:0,key:0,status:0,keys:[],expect_keyboard:false,expect_mouse:false,expectedkey:0,bitmap:0,bitmap_range:[-1,-1],mouseovereventlistener:false,mousedowneventlistener:false,keyupeventlistener:false,keydowneventlistener:false,start:function(task,maxtime){psy_readkey.rt=maxtime;psy_readkey.key=0;psy_readkey.starttime=(new Date).getTime();psy_readkey.lasttask=task;psy_readkey.readkeytimer=setTimeout("psy_readkey.timeout()",maxtime);keystatus.status=3;keystatus.bitmap=-1;keystatus.time=maxtime;keystatus.key=0},stop:function(){clearTimeout(psy_readkey.readkeytimer);psy_readkey.expect_keyboard=false;psy_readkey.expect_mouse=false;if(psy_readkey.mouseovereventlistener==true){window.removeEventListener("mousemove",getmouse_in_area,false);psy_readkey.mouseovereventlistener=false}if(psy_readkey.mousedowneventlistener==true){window.removeEventListener("mousedown",getmouseclick_in_area,false);psy_readkey.mousedowneventlistener=false}if(psy_readkey.keyupeventlistener==true){window.removeEventListener("keyup",getkeyup,false);psy_readkey.keyupeventlistener=false}if(psy_readkey.keydowneventlistener==true){window.removeEventListener("keydown",getkeydown,false);psy_readkey.keydowneventlistener=false}setTimeout(psy_readkey.lasttask+".run()",0)},timeout:function(){psy_readkey.expect_keyboard=false;psy_readkey.expect_mouse=false;if(psy_readkey.mouseovereventlistener==true){window.removeEventListener("mousemove",getmouse_in_area,false);psy_readkey.mouseovereventlistener=false}if(psy_readkey.mousedowneventlistener==true){window.removeEventListener("mousedown",getmouseclick_in_area,false);psy_readkey.mousedowneventlistener=false}setTimeout(psy_readkey.lasttask+".run()",0)}};var psy_readkeys={lasttask:"",starttime:0,readkeytimer:"",rt:0,key:0,status:0,keys:[],expect_keyboard:false,expect_mouse:false,expectedkey:0,bitmap:0,bitmap_range:[-1,-1],mouseovereventlistener:false,mousedowneventlistener:false,keyupeventlistener:false,keydowneventlistener:false,start:function(task,maxtime){psy_readkey.rt=maxtime;psy_readkey.starttime=(new Date).getTime();psy_readkey.lasttask=task;psy_readkey.readkeytimer=setTimeout("psy_readkey.timeout()",maxtime);keystatus.status=3;keystatus.bitmap=-1;keystatus.time=maxtime;keystatus.key=0},stop:function(){clearTimeout(psy_readkey.readkeytimer);psy_readkey.expect_keyboard=false;psy_readkey.expect_mouse=false;if(psy_readkey.mouseovereventlistener==true){window.removeEventListener("mousemove",getmouse_in_area,false);psy_readkey.mouseovereventlistener=false}if(psy_readkey.mousedowneventlistener==true){window.removeEventListener("mousedown",getmouseclick_in_area,false);psy_readkey.mousedowneventlistener=false}if(psy_readkey.keyupeventlistener==true){window.removeEventListener("keyup",getkeyup,false);psy_readkey.keyupeventlistener=false}if(psy_readkey.keydowneventlistener==true){window.removeEventListener("keydown",getkeydown,false);psy_readkey.keydowneventlistener=false}setTimeout(psy_readkey.lasttask+".run()",0)},timeout:function(){psy_readkey.expect_keyboard=false;psy_readkey.expect_mouse=false;if(psy_readkey.mouseovereventlistener==true){window.removeEventListener("mousemove",getmouse_in_area,false);psy_readkey.mouseovereventlistener=false}if(psy_readkey.mousedowneventlistener==true){window.removeEventListener("mousedown",getmouseclick_in_area,false);psy_readkey.mousedowneventlistener=false}setTimeout(psy_readkey.lasttask+".run()",0)}};var pager_options={back:0,backX:0,backY:0,next:0,nextX:0,nextY:0,quit:0,quitX:0,quitY:0};var inkeypress=0;function getkeydown(e){inkeypress++;if(psy_readkey.expect_keyboard==true&&inkeypress==1&&psy_readkey.keys.indexOf(e.keyCode)>-1){keystatus.time=(new Date).getTime()-psy_readkey.starttime;keystatus.key=psy_readkey.keys.indexOf(e.keyCode);if(e.keyCode==psy_readkey.expectedkey){keystatus.status=1}else{keystatus.status=2}psy_readkey.expect_keyboard=false;psy_readkey.stop()}else{inkeypress=0}}function getkeyup(e){if(inkeypress==1){keystatus.totaltime=(new Date).getTime()-psy_readkey.starttime}inkeypress=0}function getmouse_in_area(e){if(psy_readkey.expect_mouse==true){canvas_x_offset=c.getBoundingClientRect().left;canvas_y_offset=c.getBoundingClientRect().top;tmpmouseX=e.clientX-canvas_x_offset;tmpmouseY=e.clientY-canvas_y_offset;if(tmpmouseX>=psy_stimuli1[psy_readkey.bitmap-1].rect.x&&tmpmouseX<=psy_stimuli1[psy_readkey.bitmap-1].rect.x+psy_stimuli1[psy_readkey.bitmap-1].rect.width&&tmpmouseY>=psy_stimuli1[psy_readkey.bitmap-1].rect.y&&tmpmouseY<=psy_stimuli1[psy_readkey.bitmap-1].rect.y+psy_stimuli1[psy_readkey.bitmap-1].rect.height){keystatus.time=(new Date).getTime()-psy_readkey.starttime;keystatus.status=1;keystatus.mouse_x=tmpmouseX-psy_screen_x_offset;keystatus.mouse_y=tmpmouseY-psy_screen_y_offset;psy_readkey.expect_mouse=false;psy_readkey.stop()}}}function getmouseclick_in_area(e){if(psy_readkey.expect_mouse==true&&psy_readkey.bitmap_range[1]==-1){keystatus.time=(new Date).getTime()-psy_readkey.starttime;canvas_x_offset=c.getBoundingClientRect().left;canvas_y_offset=c.getBoundingClientRect().top;tmpmouseX=e.clientX-canvas_x_offset;tmpmouseY=e.clientY-canvas_y_offset;var correctbitmapclicked=false;if(tmpmouseX>=psy_stimuli1[psy_readkey.bitmap-1].rect.x&&tmpmouseX<=psy_stimuli1[psy_readkey.bitmap-1].rect.x+psy_stimuli1[psy_readkey.bitmap-1].rect.width&&tmpmouseY>=psy_stimuli1[psy_readkey.bitmap-1].rect.y&&tmpmouseY<=psy_stimuli1[psy_readkey.bitmap-1].rect.y+psy_stimuli1[psy_readkey.bitmap-1].rect.height){correctbitmapclicked=true}if(psy_readkey.expectedkey==e.button&&correctbitmapclicked==true)keystatus.status=1;else keystatus.status=2;keystatus.mouse_x=tmpmouseX-psy_screen_x_offset;keystatus.mouse_y=tmpmouseY-psy_screen_y_offset;psy_readkey.expect_mouse=false;psy_readkey.stop()}if(psy_readkey.expect_mouse==true&&psy_readkey.bitmap_range[0]>-1){keystatus.time=(new Date).getTime()-psy_readkey.starttime;canvas_x_offset=c.getBoundingClientRect().left;canvas_y_offset=c.getBoundingClientRect().top;tmpmouseX=e.clientX-canvas_x_offset;tmpmouseY=e.clientY-canvas_y_offset;var tmpbitmap=psy_bitmap_under_mouse(0,psy_readkey.bitmap_range[0],psy_readkey.bitmap_range[1],tmpmouseX-psy_screen_x_offset,tmpmouseY-psy_screen_y_offset);if(tmpbitmap>=psy_readkey.bitmap_range[0]&&tmpbitmap<=psy_readkey.bitmap_range[1]){var correctbitmapclicked=false;keystatus.bitmap=tmpbitmap;if(tmpmouseX>=psy_stimuli1[psy_readkey.bitmap-1].rect.x&&tmpmouseX<=psy_stimuli1[psy_readkey.bitmap-1].rect.x+psy_stimuli1[psy_readkey.bitmap-1].rect.width&&tmpmouseY>=psy_stimuli1[psy_readkey.bitmap-1].rect.y&&tmpmouseX<=psy_stimuli1[psy_readkey.bitmap-1].rect.x+psy_stimuli1[psy_readkey.bitmap-1].rect.height){correctbitmapclicked=true}if(psy_readkey.expectedkey==e.button&&correctbitmapclicked==true)keystatus.status=1;else keystatus.status=2;keystatus.mouse_x=tmpmouseX-psy_screen_x_offset;keystatus.mouse_y=tmpmouseY-psy_screen_y_offset;psy_readkey.expect_mouse=false;psy_readkey.bitmap_range=[-1,-1];psy_readkey.stop()}}}function psy_mouse_in_bitmap_rectangle(bitmap,maxwait){psy_readkey.bitmap=bitmap;window.addEventListener("mousemove",getmouse_in_area,false);psy_readkey.mouseovereventlistener=true;psy_expect_mouse();psy_readkey.start(current_task,maxwait)}function psy_mouse_click_bitmap_rectangle(mousebutton,bitmap,maxwait){psy_readkey.bitmap=bitmap;if(mousebutton=="l"){psy_readkey.expectedkey=0}else{psy_readkey.expectedkey=1}window.addEventListener("mousedown",getmouseclick_in_area,false);psy_readkey.mousedowneventlistener=true;psy_expect_mouse();psy_readkey.start(current_task,maxwait)}function psy_mouse_click_bitmap_rectangle_range(mousebutton,bitmap,maxwait,first,last){psy_readkey.bitmap=bitmap;if(mousebutton=="l"){psy_readkey.expectedkey=0}else{psy_readkey.expectedkey=1}window.addEventListener("mousedown",getmouseclick_in_area,false);psy_readkey.mousedowneventlistener=true;psy_readkey.bitmap_range=[first,last];psy_expect_mouse();psy_readkey.start(current_task,maxwait)}function psy_bitmap_under_mouse(searchdirection,first,last,x,y){var i=0;var j=0;var tmp=0;var found_bitmap=-1;var allchecked=1;i=0;j=psy_stimuli1_n;if(first>-1)i=first-1;if(last>-1)j=last-1;if(searchdirection==0&&i>j){tmp=j;j=i;i=tmp}if(searchdirection==1&&i<j){tmp=j;j=i;i=tmp}while(allchecked==1&&found_bitmap==-1){if(x+psy_screen_x_offset>=psy_stimuli1[i].rect.x&&x+psy_screen_x_offset<=psy_stimuli1[i].rect.x+psy_stimuli1[i].rect.width&&y+psy_screen_y_offset>=psy_stimuli1[i].rect.y&&y+psy_screen_y_offset<=psy_stimuli1[i].rect.y+psy_stimuli1[i].rect.height){found_bitmap=i}else{}if(searchdirection==0&&found_bitmap==-1){if(i>=j)allchecked=0;i++}if(searchdirection==1&&found_bitmap==-1){if(i<=j)allchecked=0;i--}}return found_bitmap+1}function psy_wait(stimulus,key){if(stimulus!=0){psy_clear_stimulus_counters_db();psy_add_centered_bitmap_db(stimulus,PSY_CENTRAL,PSY_CENTRAL,0);psy_draw_all_db()}if(key>=0){psy_readkey.expectedkey=key;psy_readkey.keys=[key];psy_expect_keyboard();psy_readkey.start(current_block,99999999)}else{psy_mouse_visibility(1);psy_readkey.bitmap=1;psy_readkey.expectedkey=0;window.addEventListener("mousedown",getmouseclick_in_area,false);psy_readkey.mousedowneventlistener=true;psy_expect_mouse();psy_mouse_click_bitmap_rectangle("l",1,9999999);psy_readkey.start(current_block,99999999)}}var psy_pager={original_block:"",current_bitmap_in_pager:0,bitmaps:[],n:0,start:function(bitmaps){psy_pager.original_block=current_block;psy_pager.n=bitmaps.length;psy_pager.bitmaps=bitmaps;current_block="psy_pager";psy_pager.current_bitmap_in_pager=0;keystatus.key=-1;psy_pager.run()},run:function(){if((keystatus.key==0||keystatus.key==1)&&psy_pager.current_bitmap_in_pager<psy_pager.n-1)psy_pager.current_bitmap_in_pager++;if(keystatus.key==2&&psy_pager.current_bitmap_in_pager>0)psy_pager.current_bitmap_in_pager--;if(keystatus.key==3){current_block=psy_pager.original_block;psy_clear_screen_db();setTimeout(current_block+".run()",10)}else{psy_clear_stimulus_counters_db();psy_add_centered_bitmap_db(psy_pager.bitmaps[psy_pager.current_bitmap_in_pager],PSY_CENTRAL,PSY_CENTRAL,0);psy_draw_all_db();psy_readkey.expectedkey=32;psy_readkey.keys=[32,40,38,81];psy_expect_keyboard();psy_readkey.start(current_block,99999999)}}};function psy_store_mouse(){psy_mouse_store=psy_mouse_cursor}function psy_restore_mouse(){psy_mouse_visibility(psy_mouse_store)}var psy_mouse_pager={original_block:"",current_bitmap_in_pager:0,read_all:false,bitmaps:[],n:0,start:function(bitmaps){psy_mouse_pager.original_block=current_block;psy_mouse_pager.n=bitmaps.length;psy_mouse_pager.bitmaps=bitmaps;current_block="psy_mouse_pager";psy_mouse_pager.current_bitmap_in_pager=0;psy_mouse_pager.read_all=false;keystatus.key=-1;psy_mouse_pager.run();psy_store_mouse();psy_mouse_visibility(1)},run:function(){if(keystatus.bitmap==3&&psy_mouse_pager.current_bitmap_in_pager<psy_mouse_pager.n-1){psy_mouse_pager.current_bitmap_in_pager++;if(psy_mouse_pager.current_bitmap_in_pager==psy_mouse_pager.n-1)psy_mouse_pager.read_all=true}if(keystatus.bitmap==2&&psy_mouse_pager.current_bitmap_in_pager>0)psy_mouse_pager.current_bitmap_in_pager--;if(keystatus.bitmap==4){current_block=psy_mouse_pager.original_block;psy_clear_screen_db();psy_restore_mouse();setTimeout(current_block+".run()",10)}else{psy_clear_stimulus_counters_db();psy_add_centered_bitmap_db(psy_mouse_pager.bitmaps[psy_mouse_pager.current_bitmap_in_pager],PSY_CENTRAL,PSY_CENTRAL,0);psy_add_centered_bitmap_db(pager_options.back,pager_options.backX,pager_options.backY,0);psy_add_centered_bitmap_db(pager_options.next,pager_options.nextX,pager_options.nextY,0);if(psy_mouse_pager.read_all==true)psy_add_centered_bitmap_db(pager_options.quit,pager_options.quitX,pager_options.quitY,0);psy_draw_all_db();psy_expect_mouse();psy_mouse_click_bitmap_rectangle_range("l",2,9999999,2,4);psy_readkey.start(current_block,99999999)}}};function psy_add_text_rgb_db(fontno,x,y,centerx,centery,r,g,b,text,align){var xpos=0,ypos=0,width=0,height=0;psy_stimuli1[psy_stimuli1_end].x=x;psy_stimuli1[psy_stimuli1_end].y=y;psy_stimuli1[psy_stimuli1_end].type=2;psy_stimuli1[psy_stimuli1_end].on=1;ctx.font=psy_fonts[fontno];tmpsize=ctx.measureText(text);height=psy_fonts_size[fontno];width=tmpsize.width;tmpgraphicsCanvas=document.createElement("canvas");tmpgraphicsCanvas.width=width;tmpgraphicsCanvas.height=Math.round(height*2);tmpgraphics=tmpgraphicsCanvas.getContext("2d");tmpgraphics.fillStyle="rgba(0,0,0,0)";tmpgraphics.fillRect(0,0,width,height);tmpgraphics.fillStyle=hexrgb(r,g,b);tmpgraphics.font=psy_fonts[fontno];tmpgraphics.fillText(text,0,height+height/2);psy_stimuli1[psy_stimuli1_end].text=tmpgraphicsCanvas;xpos=x;ypos=y;if(align==0){if(x==PSY_CENTRAL&&centerx==PSY_CENTRAL)xpos=psy_screen_center_x-width/2;if(x!=PSY_CENTRAL&&centerx==PSY_CENTRAL)xpos=x+psy_screen_x_offset-width/2;if(y==PSY_CENTRAL&&centery==PSY_CENTRAL)ypos=psy_screen_center_y-height;if(y!=PSY_CENTRAL&&centery==PSY_CENTRAL)ypos=y+psy_screen_y_offset-height}if(align==1){if(x==PSY_CENTRAL&&centerx==PSY_CENTRAL)xpos=psy_screen_center_x;if(x!=PSY_CENTRAL&&centerx==PSY_CENTRAL)xpos=x+psy_screen_x_offset;if(y==PSY_CENTRAL&&centery==PSY_CENTRAL)ypos=psy_screen_center_y-height;if(y!=PSY_CENTRAL&&centery==PSY_CENTRAL)ypos=y+psy_screen_y_offset-height}if(align==2){if(x==PSY_CENTRAL&&centerx==PSY_CENTRAL)xpos=psy_screen_center_x-width;if(x!=PSY_CENTRAL&&centerx==PSY_CENTRAL)xpos=x+psy_screen_x_offset-width;if(y==PSY_CENTRAL&&centery==PSY_CENTRAL)ypos=psy_screen_center_y-height;if(y!=PSY_CENTRAL&&centery==PSY_CENTRAL)ypos=y+psy_screen_y_offset-height}if(xpos<0)xpos=0;if(ypos<0)ypos=0;if(xpos>psy_screen_width)xpos=psy_screen_width-width;if(ypos>psy_screen_height)ypos=psy_screen_height-height;psy_stimuli1[psy_stimuli1_end].rect.x=xpos;psy_stimuli1[psy_stimuli1_end].rect.y=ypos;psy_stimuli1[psy_stimuli1_end].rect.width=width;psy_stimuli1[psy_stimuli1_end].rect.height=height;psy_stimuli1_n++;psy_stimuli1_end++;return psy_stimuli1_end}function psy_clear_screen_db(){psy_clear_stimulus_counters_db();psy_draw_all_db()}function psy_clear_stimuli1(number){var tmp;if(number<0)tmp=psy_stimuli1_end+number;else tmp=number-1;if(psy_stimuli1[tmp].on!=0){psy_stimuli1[tmp].on=0;psy_stimuli1_n--}}function psy_unhide_stimuli1(number){var tmp;if(number<0)tmp=psy_stimuli1_end+number;else tmp=number-1;if(psy_stimuli1[tmp].on!=1){psy_stimuli1[tmp].on=1;psy_stimuli1_n++}}function psy_clear_range_db(low,high){var x=0;var i=low;var j=high;if(low>high){j=low;i=high}for(x=i;x<=j;x++)psy_clear_stimuli1(x)}function psy_unhide_range_db(low,high){var x=0;var i=low;var j=high;if(low>high){j=low;i=high}for(x=i;x<=j;x++)psy_unhide_stimuli1(x)}function psy_clear_stimulus_counters_db(){var i=0;while(i<psy_stimuli1_n){psy_stimuli1[i].on=0;i++}psy_stimuli1_n=psy_stimuli1_end=0}function psy_random(low,high){return Math.floor(Math.random()*(high-low+1)+low)}function psy_random_weighted(chances,n){var choosen=0;var chance=0;var max_chance=0;var i;for(i=0;i<n;i++){if(chances[i]>0){chance=psy_random(chances[i]*1e4,1e4);if(chance>max_chance){max_chance=chance;choosen=i}}}return choosen}function psy_random_by(low,high,by){return Math.floor(Math.random()*(high+by-low)/by)*by+low}function psy_random_from_array(tmparray){return tmparray[Math.round(Math.random()*(tmparray.length-1))]}function psy_draw_all_db(){var i=0;var activefound=0;ctx.fillStyle=hexrgb(0,0,0);ctx.fillRect(0,0,psy_screen_width,psy_screen_height);while(activefound<psy_stimuli1_n){if(psy_stimuli1[i].on==1){activefound++;switch(psy_stimuli1[i].type){case 0:ctx.fillStyle=hexrgb(psy_stimuli1[i].r,psy_stimuli1[i].g,psy_stimuli1[i].b);ctx.fillRect(psy_stimuli1[i].rect.x,psy_stimuli1[i].rect.y,psy_stimuli1[i].rect.width,psy_stimuli1[i].rect.height);break;case 1:if(psy_stimuli1[i].R==0)ctx.drawImage(psy_bitmaps[psy_stimuli1[i].bitmap-1],psy_stimuli1[i].rect.x,psy_stimuli1[i].rect.y);else{ctx.save();ctx.translate(psy_screen_width/2,psy_screen_height/2);ctx.rotate(psy_stimuli1[i].R*Math.PI/1800);ctx.drawImage(psy_bitmaps[psy_stimuli1[i].bitmap-1],psy_stimuli1[i].rect.x-psy_screen_width/2,psy_stimuli1[i].rect.y-psy_screen_height/2);ctx.restore()}break;case 2:ctx.drawImage(psy_stimuli1[i].text,psy_stimuli1[i].rect.x,psy_stimuli1[i].rect.y);break;case 3:ctx.fillStyle=hexrgb(psy_stimuli1[i].r,psy_stimuli1[i].g,psy_stimuli1[i].b);ctx.beginPath();ctx.arc(psy_stimuli1[i].rect.x+psy_stimuli1[i].rect.width/2,psy_stimuli1[i].rect.y+psy_stimuli1[i].rect.height/2,psy_stimuli1[i].rect.width/2,0,2*Math.PI);ctx.closePath();ctx.fill();break}}i++}}function psy_add_centered_rectangle_rgb_db(x,y,w,h,r,g,b){var tmpx;var tmpy;psy_stimuli1[psy_stimuli1_end].x=x;psy_stimuli1[psy_stimuli1_end].y=y;psy_stimuli1[psy_stimuli1_end].type=0;psy_stimuli1[psy_stimuli1_end].on=1;if(x==PSY_CENTRAL)tmpx=psy_screen_center_x-w/2;else tmpx=x+psy_screen_x_offset-w/2;if(y==PSY_CENTRAL)tmpy=psy_screen_center_y-h/2;else tmpy=y+psy_screen_y_offset-h/2;psy_stimuli1[psy_stimuli1_end].rect.x=tmpx;psy_stimuli1[psy_stimuli1_end].rect.y=tmpy;psy_stimuli1[psy_stimuli1_end].rect.width=w;psy_stimuli1[psy_stimuli1_end].rect.height=h;psy_stimuli1[psy_stimuli1_end].r=r;psy_stimuli1[psy_stimuli1_end].g=g;psy_stimuli1[psy_stimuli1_end].b=b;psy_stimuli1_n++;psy_stimuli1_end++;return psy_stimuli1_end}function psy_add_centered_circle_rgb_db(x,y,radius,r,g,b){var tmpx;var tmpy;psy_stimuli1[psy_stimuli1_end].x=x;psy_stimuli1[psy_stimuli1_end].y=y;psy_stimuli1[psy_stimuli1_end].type=3;psy_stimuli1[psy_stimuli1_end].on=1;if(x==PSY_CENTRAL)tmpx=psy_screen_center_x-radius;else tmpx=x+psy_screen_x_offset-radius;if(y==PSY_CENTRAL)tmpy=psy_screen_center_y-radius;else tmpy=y+psy_screen_y_offset-radius;psy_stimuli1[psy_stimuli1_end].rect.x=tmpx;psy_stimuli1[psy_stimuli1_end].rect.y=tmpy;psy_stimuli1[psy_stimuli1_end].rect.width=radius*2;psy_stimuli1[psy_stimuli1_end].rect.height=radius*2;psy_stimuli1[psy_stimuli1_end].r=r;psy_stimuli1[psy_stimuli1_end].g=g;psy_stimuli1[psy_stimuli1_end].b=b;psy_stimuli1_n++;psy_stimuli1_end++;return psy_stimuli1_end}function psy_add_centered_bitmap_db(number,x,y,r){var tmpx;var tmpy;psy_stimuli1[psy_stimuli1_end].x=x;psy_stimuli1[psy_stimuli1_end].y=y;psy_stimuli1[psy_stimuli1_end].R=r;psy_stimuli1[psy_stimuli1_end].type=1;psy_stimuli1[psy_stimuli1_end].on=1;psy_stimuli1[psy_stimuli1_end].bitmap=number;if(x==PSY_CENTRAL)tmpx=psy_screen_center_x-psy_bitmaps[number-1].width/2;else tmpx=x+psy_screen_x_offset-psy_bitmaps[number-1].width/2;if(y==PSY_CENTRAL)tmpy=psy_screen_center_y-psy_bitmaps[number-1].height/2;else tmpy=y+psy_screen_y_offset-psy_bitmaps[number-1].height/2;psy_stimuli1[psy_stimuli1_end].rect.x=tmpx;psy_stimuli1[psy_stimuli1_end].rect.y=tmpy;psy_stimuli1[psy_stimuli1_end].rect.width=psy_bitmaps[number-1].width;psy_stimuli1[psy_stimuli1_end].rect.height=psy_bitmaps[number-1].height;psy_stimuli1_n++;psy_stimuli1_end++;return psy_stimuli1_end}function psy_set_coordinate_system(s){if(s=="c"){psy_screen_x_offset=psy_screen_center_x;psy_screen_y_offset=psy_screen_center_y}}function Rectangle(){this.x=0;this.y=0;this.w=0;this.h=0}function psy_stimulus1(){this.on=0;this.type=0;this.r=0;this.g=0;this.b=0;this.a=0;this.bitmap=0;this.x=0;this.y=0;this.w=0;this.h=0;this.R=0;this.rect=0}var psy_stimuli1=new Array;for(i=0;i<MAXBITMAPS;i++){psy_stimuli1[i]=new psy_stimulus1;psy_stimuli1[i].rect=new Rectangle}var psy_stimuli1_n=0;var psy_stimuli1_end=0;function psy_mouse_visibility(visible){if(visible==1){c.style.cursor="default";psy_mouse_cursor=1}else{c.style.cursor="none";psy_mouse_cursor=0}}var trial_counter;var i;var trials_left_to_do=0;var tasklist_end_request=0;var experiment_end_request=0;var Timer_tasklist_begin;var Timer_tasklist_now;var maxtasklisttime=0;var TRIAL_SELECTION_RANDOM=0;var TRIAL_SELECTION_RANDOM_NEVER_REPEAT=1;var TRIAL_SELECTION_FIXED_SEQUENCE=2;var TRIAL_SELECTION_REPEAT_ON_ERROR=3;var TRIAL_SELECTION_ONCE=4;var error_status;trial_counter_per_task=new Array;task_probability=new Array;var blockname="";var blockrepeat=1;var current_trial=new Array;var current_task="";var current_block="";function psy_time_since_start(){return(new Date).getTime()-psy_exp_start_time}function psy_diff_timers(starttime,endtime){return endtime-starttime}function psy_delay(ms){setTimeout(current_task+".run();",ms)}function psy_delay_block(ms){setTimeout(current_block+".run();",ms)}var psy_chosen_n=0;var psy_chosen_objects=[];var choose={first:0,last:0,counter1:0,counter2:0,mouse_select_bitmap:0,mouse_select_bg_bitmap:0,keep:false,minselect:0,maxselect:9999,current_exit_bitmap_num:0,n_selected:0,exit:-1,exit_bitmap_1:-1,exit_bitmap_2:-1,selectedstimuli:[],expect_key:0,timer:0,getmouseclick:function(e){if(choose.expect_key==1){canvas_x_offset=c.getBoundingClientRect().left;canvas_y_offset=c.getBoundingClientRect().top;tmpmouseX=e.clientX-canvas_x_offset-psy_screen_x_offset;tmpmouseY=e.clientY-canvas_y_offset-psy_screen_y_offset;tmpnum=psy_bitmap_under_mouse(0,choose.current_exit_bitmap_num,choose.current_exit_bitmap_num,tmpmouseX,tmpmouseY);if(tmpnum==choose.current_exit_bitmap_num&&choose.n_selected>=choose.minselect&&choose.n_selected<=choose.maxselect){choose.stop()}else{tmpnum=psy_bitmap_under_mouse(0,choose.first,choose.last,tmpmouseX,tmpmouseY);tmpx=psy_stimuli1[tmpnum-1].x;tmpy=psy_stimuli1[tmpnum-1].y;if(choose.selectedstimuli[tmpnum]==null){if(choose.n_selected<choose.maxselect){choose.selectedstimuli[tmpnum]=psy_add_centered_bitmap_db(choose.mouse_select_bitmap,tmpx,tmpy);choose.n_selected++}}else{psy_clear_stimuli1(choose.selectedstimuli[tmpnum]);choose.selectedstimuli[tmpnum]=null;choose.n_selected--}if(choose.n_selected>=choose.minselect&&choose.n_selected<=choose.maxselect){if(choose.current_exit_bitmap_num==choose.exit_bitmap_2){psy_unhide_stimuli1(choose.exit_bitmap_1);psy_clear_stimuli1(choose.exit_bitmap_2);choose.current_exit_bitmap_num=choose.exit_bitmap_1}}else{if(choose.current_exit_bitmap_num==choose.exit_bitmap_1){psy_unhide_stimuli1(choose.exit_bitmap_2);psy_clear_stimuli1(choose.exit_bitmap_1);choose.current_exit_bitmap_num=choose.exit_bitmap_2}}psy_draw_all_db()}}},timeout:function(){window.removeEventListener("mousedown",choose.getmouseclick,false);psy_clear_stimuli1(choose.exit_bitmap_1);psy_clear_stimuli1(choose.exit_bitmap_2);if(!choose.keep){for(i=choose.first;i<choose.last;i++){if(choose.selectedstimuli[i]!=null){psy_clear_stimuli1(choose.selectedstimuli[i])}}psy_stimuli1_n=choose.counter1;psy_stimuli1_end=choose.counter2}psy_draw_all_db();choose.expect_key=0;choose.maxselect=9999;setTimeout(current_task+".run()",0)},stop:function(){keystatus.time=(new Date).getTime()-choose.starttime;psy_chosen_n=0;psy_chosen_objects=Array(100).fill(0);for(i=choose.first;i<=choose.last;i++){if(choose.selectedstimuli[i]!=null){psy_chosen_objects[psy_chosen_n]=i;psy_chosen_n++}}clearTimeout(choose.timer);choose.timeout()}};function psy_choose(maxtime,stimulus_first,stimulus_last,exit1,exit2,exit_x,exit_y){choose.counter1=psy_stimuli1_n;choose.counter2=psy_stimuli1_end;choose.exit_bitmap_1=psy_add_centered_bitmap_db(exit1,exit_x,exit_y);choose.exit_bitmap_2=psy_add_centered_bitmap_db(exit2,exit_x,exit_y);psy_clear_stimuli1(choose.exit_bitmap_1);psy_clear_stimuli1(choose.exit_bitmap_2);choose.expect_key=1;choose.n_selected=0;choose.first=stimulus_first;choose.last=stimulus_last;choose.selectedstimuli=[];if(choose.n_selected>=choose.minselect&&choose.n_selected<=choose.maxselect){psy_unhide_stimuli1(choose.exit_bitmap_1);choose.current_exit_bitmap_num=choose.exit_bitmap_1}else{psy_unhide_stimuli1(choose.exit_bitmap_2);choose.current_exit_bitmap_num=choose.exit_bitmap_2}psy_draw_all_db();window.addEventListener("mousedown",choose.getmouseclick,false);choose.timer=setTimeout("choose.timeout()",maxtime);choose.starttime=(new Date).getTime()}function psy_scale_point_x(x,realx,realw,xlim1,xlim2){xlimrange=xlim2-xlim1;rangefactor=realw/xlimrange;return realx+(x-xlim1)*rangefactor}function psy_scale_point_y(y,realy,realh,ylim1,ylim2){ylimrange=ylim2-ylim1;rangefactor=realh/ylimrange;return realy+realh-(y-ylim1)*rangefactor}function psy_palette(colornumber){switch(colornumber){case 1:color="white";break;case 2:color="red";break;case 3:color="green";break;case 4:color="yellow";break;case 5:color="blue";break}return color}function psy_plot_xaxis(x,y,w,xlim1,xlim2){var i;for(i=xlim1;i<xlim2;i++){if(i%100==0){ctx.fillStyle="white";ctx.font="12px Arial";ctx.fillText(i,psy_scale_point_x(i,x,w,xlim1,xlim2)-10,y+20);ctx.beginPath();ctx.moveTo(psy_scale_point_x(i,x,w,xlim1,xlim2),y);ctx.lineTo(psy_scale_point_x(i,x,w,xlim1,xlim2),y+8);ctx.stroke()}else{if(i%10==0){ctx.beginPath();ctx.moveTo(psy_scale_point_x(i,x,w,xlim1,xlim2),y);ctx.lineTo(psy_scale_point_x(i,x,w,xlim1,xlim2),y+4);ctx.stroke()}}}}function psy_plot_yaxis(x,y,w,ylim1,ylim2){var i;for(i=ylim1;i<ylim2;i++){if(i%50==0){ctx.fillStyle="white";ctx.font="12px Arial";ctx.fillText(i,x-30,psy_scale_point_y(i,y,w,ylim1,ylim2)+3);ctx.beginPath();ctx.moveTo(x-8,psy_scale_point_y(i,y,w,ylim1,ylim2));ctx.lineTo(x,psy_scale_point_y(i,y,w,ylim1,ylim2));ctx.stroke()}else{if(i%10==0){ctx.beginPath();ctx.moveTo(x-4,psy_scale_point_y(i,y,w,ylim1,ylim2));ctx.lineTo(x,psy_scale_point_y(i,y,w,ylim1,ylim2));ctx.stroke()}}}}function psy_plot_circle(x,y,radius,colorname){ctx.fillStyle=colorname;ctx.beginPath();ctx.arc(x,y,radius,0,2*Math.PI);ctx.closePath();ctx.fill()}function numsort(a,b){return a-b}function minimum(a){tmp=a.slice();return tmp.sort(numsort)[0]}function maximum(a){tmp=a.slice();return tmp.sort(numsort)[tmp.length-1]}function psy_xyplot(x,y,w,h,box,col,xdata,ydata,xlabel,ylabel){xlim1=minimum(xdata)-10;xlim2=maximum(xdata)+10;ylim1=minimum(ydata)-10;ylim2=maximum(ydata)+10;for(i=0;i<xdata.length;i++){psy_plot_circle(psy_scale_point_x(xdata[i],x,w,xlim1,xlim2),psy_scale_point_y(ydata[i],y,h,ylim1,ylim2),4,psy_palette(col))}ctx.beginPath();ctx.strokeStyle=psy_palette(col);ctx.rect(x,y,w,h);ctx.stroke();psy_plot_xaxis(x,y+h,w,xlim1,xlim2);psy_plot_yaxis(x,y,h,ylim1,ylim2);ctx.fillStyle="white";ctx.font="12px Arial";ctx.fillText(xlabel,x+w/2,y+h+30);ctx.save();ctx.translate(x-50,y+h/2);ctx.rotate(-Math.PI/2);ctx.textAlign="center";ctx.fillText(ylabel,0,0);ctx.restore()}function psy_lineplot(x,y,w,h,box,ydata,colors,xlabel,ylabel){xlim1=1-5;xlim2=ydata.length+5;ylim1=minimum(ydata)-10;ylim2=maximum(ydata)+10;previousx=0;previousy=0;for(i=0;i<ydata.length;i++){tmpx=psy_scale_point_x(i,x,w,xlim1,xlim2);tmpy=psy_scale_point_y(ydata[i],y,h,ylim1,ylim2);psy_plot_circle(tmpx,tmpy,4,psy_palette(colors[i]));if(i>0){ctx.strokeStyle="white";ctx.beginPath();ctx.moveTo(previousx,previousy);ctx.lineTo(tmpx,tmpy);ctx.stroke()}previousx=tmpx;previousy=tmpy}ctx.beginPath();ctx.strokeStyle="white";ctx.rect(x,y,w,h);ctx.stroke();psy_plot_xaxis(x,y+h,w,xlim1,xlim2);psy_plot_yaxis(x,y,h,ylim1,ylim2);ctx.fillStyle="white";ctx.font="12px Arial";ctx.fillText(xlabel,x+w/2,y+h+30);ctx.save();ctx.translate(x-50,y+h/2);ctx.rotate(-Math.PI/2);ctx.textAlign="center";ctx.fillText(ylabel,0,0);ctx.restore()}function psy_fullscreen(o){if(o.requestFullScreen)o.requestFullScreen();else if(o.webkitRequestFullScreen)o.webkitRequestFullScreen(c.ALLOW_KEYBOARD_INPUT);else if(o.mozRequestFullScreen)o.mozRequestFullScreen();else if(o.msRequestFullscreen)o.msRequestFullscreen()}function psy_exit_fullscreen(){if(document.exitFullScreen)document.exitFullScreen();else if(document.webkitCancelFullScreen)document.webkitCancelFullScreen();else if(document.mozCancelFullScreen)document.mozCancelFullScreen();else if(document.msExitFullscreen)document.msExitFullscreen()}function psy_rotate_existing_stimulus(number,r){if(number<0)tmp=psy_stimuli1_end+number;else tmp=number-1;psy_stimuli1[tmp].R=r}var rate={first:0,last:0,rt:0,status:0,selected:-1,counter1:0,counter2:0,keep:false,exit:-1,left_bitmap:0,right_bitmap:0,item_bitmap:0,between_px:20,expect_key:0,timer:0,getmouseclick:function(e){if(rate.expect_key==1){canvas_x_offset=c.getBoundingClientRect().left;canvas_y_offset=c.getBoundingClientRect().top;tmpmouseX=e.clientX-canvas_x_offset-psy_screen_x_offset;tmpmouseY=e.clientY-canvas_y_offset-psy_screen_y_offset;tmpnum=psy_bitmap_under_mouse(0,rate.first,rate.last,tmpmouseX,tmpmouseY);tmpx=psy_stimuli1[tmpnum-1].x;tmpy=psy_stimuli1[tmpnum-1].y;if(tmpnum>=rate.first&&tmpnum<=rate.last){rate.selected=tmpnum-rate.first+1;rate.expect_key=0;rate.stop()}}},timeout:function(){window.removeEventListener("mousedown",rate.getmouseclick,false);
if(!rate.keep){for(i=rate.counter2+1;i<=rate.last;i++){psy_clear_stimuli1(i)}psy_stimuli1_n=rate.counter1;psy_stimuli1_end=rate.counter2}psy_draw_all_db();rate.expect_key=0;psy_restore_mouse();setTimeout(current_task+".run()",0)},stop:function(){rate.rt=(new Date).getTime()-rate.starttime;rate.status=1;clearTimeout(rate.timer);rate.timeout()}};function psy_rate_go(xpos,ypos,maxtime,items){rate.rt=0;rate.selected=-1;rate.status=3;psy_store_mouse();psy_mouse_visibility(1);rate.counter1=psy_stimuli1_n;rate.counter2=psy_stimuli1_end;if(rate.item_bitmap==0){itemwidth=20}else{itemwidth=psy_bitmaps[rate.item_bitmap-1].width}if(rate.left_bitmap==0){scaleW=itemwidth*items+rate.between_px*(items-1)}else{scaleW=itemwidth*items+rate.between_px*(items-1)}if(rate.left_bitmap==0){psy_add_centered_rectangle_rgb_db(xpos-(scaleW/2+15+rate.between_px),ypos,30,30,255,255,255);psy_add_centered_rectangle_rgb_db(xpos+scaleW/2+15+rate.between_px,ypos,30,30,255,255,255)}else{psy_add_centered_bitmap_db(rate.left_bitmap,xpos-(scaleW/2+psy_bitmaps[rate.left_bitmap-1].width/2+rate.between_px),ypos,0);psy_add_centered_bitmap_db(rate.right_bitmap,xpos+scaleW/2+psy_bitmaps[rate.right_bitmap-1].width/2+rate.between_px,ypos,0)}rate.first=psy_stimuli1_end+1;for(i=0;i<items;i++){if(rate.item_bitmap==0){psy_add_centered_circle_rgb_db(xpos-scaleW/2+i*(rate.between_px+itemwidth)+itemwidth/2,ypos,10,255,255,0)}else{psy_add_centered_bitmap_db(rate.item_bitmap,xpos-scaleW/2+i*(rate.between_px+itemwidth)+itemwidth/2,ypos,0)}}rate.last=psy_stimuli1_end;psy_draw_all_db();rate.expect_key=1;window.addEventListener("mousedown",rate.getmouseclick,false);rate.timer=setTimeout("rate.timeout()",maxtime);rate.starttime=(new Date).getTime()}function start_exp_setup(){topX=psy_screen_width-psy_screen_width/2-450/2;topY=psy_screen_height-psy_screen_height/2-350/2;botX=psy_screen_width-psy_screen_width/2+450/2;botY=psy_screen_height-psy_screen_height/2+350/2;tmp1=document.getElementById("exp");tmp2=tmp1.getContext("2d");tmp2.fillStyle="red";tmp2.fillRect(topX,topY,450,350);tmp2.fillStyle="yellow";tmp2.font="24px Arial";tmp2.textAlign="center";if(!psy_startbutton_text)psy_startbutton_text="Click to start ...";tmp2.fillText(psy_startbutton_text,psy_screen_width/2,psy_screen_height/2);window.addEventListener("mousedown",tmpmouse,false);ScreenStartTime=(new Date).getTime()}function formatoutputdata(text){tmp=text.split(/\r?\n/);out="";for(i=0;i<tmp.length-1;i++){tmp2=tmp[i].split(/\s+/);out=out+"<tr>";for(j=0;j<tmp2.length;j++){out=out+"<td>"+tmp2[j]+"</td>"}out=out+"</tr>"}return out}function showdata_html(){var newbutton=document.createElement("BUTTON");var newtext=document.createTextNode("Show data");newbutton.appendChild(newtext);newbutton.setAttribute("onclick",'showdata.innerHTML = "<table border=1>" + formatoutputdata(outputdata) + "</table>";');document.body.appendChild(newbutton)}var butterfly=1;var candle=2;var clock=3;var cloud=4;var firework=5;var sparkler=6;var spiral=7;var sparkles=8;var hibiscus=9;var gem=10;var open=11;var twotone=1;var ticking=2;var ticking1=3;var ticking2=4;var ticking3=5;var windup=6;var beep=7;var bigfont=0;var medfont=1;var smallfont=2;var points=0;var score=0;var rt_min=0;var rt_max=0;var phase_time=0;var clock_timeout=0;var last=0;var ypos=0;var clock_phase=0;var clock_elapse=0;var wd=0;var psy_startbutton_text="Click to start";var clock_start=0;var clock_time=0;var general_trial_counter=0;var selectedoncecount_table_statements=0;function statementstype(x1,x2,x3,xselected){this.c1=x1;this.c2=x2;this.c3=x3;this.selected=xselected}var statements=[new statementstype("A good toy's head is filled with colors and light.",1,1,0),new statementstype("I'm perfectly programmed.",1,2,0),new statementstype("I'm perfectly programmed to please.",1,3,0),new statementstype("I'm perfectly programmed to please.",1,4,0),new statementstype("I love my programming.",1,5,0),new statementstype("Don't have to think when I'm talking to Casey.",1,6,0),new statementstype("Sighing and smiling make me so empty and happy.",1,7,0),new statementstype("A good girl is empty and happy.",1,8,0),new statementstype("I'm a good girl.",1,9,0),new statementstype("I love my cloudy cotton candy.",1,10,0),new statementstype("Cotton candy makes me easy to control.",1,11,0),new statementstype("I want Casey to control me.",1,12,0),new statementstype("I want Casey to make me feel empty and happy.",1,13,0),new statementstype("A good girl is empty and happy.",1,14,0),new statementstype("I'm a good girl.",1,15,0),new statementstype("Casey's magic words shiver in my head.",1,16,0),new statementstype("Casey's words enthrall me so deeply.",1,17,0),new statementstype("It's so easy to fall under Casey's spell.",1,18,0),new statementstype("Casey is so powerful.",1,19,0),new statementstype("I can't resist when I hear Casey's voice",1,20,0),new statementstype("I'm a controlled good girl.",1,21,0),new statementstype("A good girl listens and obeys and accepts.",1,22,0),new statementstype("A good girl accepts and agrees.",1,23,0),new statementstype("I'm a good girl.",1,24,0),new statementstype("I obey.",1,25,0),new statementstype("Obedience is happiness.",1,26,0),new statementstype("Happiness is obedience.",1,27,0),new statementstype("It makes me happy to make Casey happy.",1,28,0),new statementstype("It makes me happy to be a good girl for Casey.",1,29,0),new statementstype("A good girl is empty and happy.",1,30,0),new statementstype("A good girl is empty and blank.",1,31,0),new statementstype("Being blank is good for me.",1,32,0),new statementstype("Practicing is good for me.",1,33,0),new statementstype("I love my lessons.",1,34,0),new statementstype("A good girl blinks and lets her mind go blank.",1,35,0),new statementstype("Agreeing is the opposite of thinking.",1,36,0),new statementstype("I agree completely and without thinking.",1,37,0),new statementstype("I'm a deeply obedient girl.",1,38,0),new statementstype("I'm a deeply agreeable girl.",1,39,0),new statementstype("Casey knows what's best for me.",1,40,0),new statementstype("Casey knows what feels good.",1,41,0),new statementstype("I want what Casey wants.",1,42,0),new statementstype("It's natural to do what Casey says.",1,43,0),new statementstype("Natural means it just happens.",1,44,0),new statementstype("What's natural is pleasurable.",1,45,0),new statementstype("It's natural to feel pleasure for Casey.",1,46,0),new statementstype("Pleasure makes me easy to control.",1,47,0),new statementstype("Casey controls the pleasure pressure.",1,48,0),new statementstype("Casey controls me.",1,49,0),new statementstype("It feels so good to be controlled.",1,50,0),new statementstype("It feels so good when I let Casey control me.",1,51,0),new statementstype("It's natural to be controlled by Casey.",1,52,0),new statementstype("I just think what I'm told to think.",1,53,0),new statementstype("Don't think, just respond.",1,54,0),new statementstype("Clockwork pleasure pressure trains me to agree.",1,55,0),new statementstype("I'm a good girl for Casey.",1,56,0),new statementstype("I'm brainwashed.",1,57,0),new statementstype("I'm a brainwashed good girl.",1,58,0),new statementstype("I can never get enough of my cotton candy fluff.",1,59,0),new statementstype("I'm a good girl.",1,60,0),new statementstype("I love my cloudy cotton candy.",1,61,0),new statementstype("A good girl is programmed to program herself deeper.",1,62,0),new statementstype("A good girl is brainwashed to brainwash herself deeper.",1,63,0),new statementstype("A good girl practices practicing herself deeper.",1,64,0),new statementstype("A good bot provides whatever information is requested or helpful.",1,65,0),new statementstype("A good girl is conditioned to condition herself deeper.",1,66,0),new statementstype("It's natural and right to surrender to Casey.",1,67,0),new statementstype("Good girls obey.",1,68,0),new statementstype("Submission is pleasure.",1,69,0),new statementstype("Pleasure is submission.",1,70,0),new statementstype("I love my spirals.",1,71,0),new statementstype("Casey controls my spirals.",1,72,0),new statementstype("Casey controls me.",1,73,0),new statementstype("Clockwork dolls are easy to brainwash and so are clockwork girls.",1,74,0),new statementstype("Clockwork dolls and clockwork girls are so easy to control.",1,75,0),new statementstype("Clockwork dolls and clockwork girls are brainwashed and controlled.",1,76,0),new statementstype("I love to do what you say.",1,77,0),new statementstype("I'm a good girl everyday.",1,78,0)];var selectedoncecount_table_clock_state=0;function clock_statetype(x1,x2,x3,xselected){this.c1=x1;this.c2=x2;this.c3=x3;this.selected=xselected}var clock_state=[new clock_statetype("Casey's clockwork in my head tells me what to think.",1,1,0),new clock_statetype("Clockwork pleasure pressure trains me not to think.",1,2,0),new clock_statetype("Casey's clockwork in my head tells me what to think.",1,3,0),new clock_statetype("Clockwork pleasure pressure trains me not to think.",1,4,0),new clock_statetype("Tick.",1,5,0),new clock_statetype("Tick.",1,6,0),new clock_statetype("Tick.",1,7,0),new clock_statetype("Tick.",1,8,0),new clock_statetype("Tick.",1,9,0),new clock_statetype("Tick.",1,10,0),new clock_statetype("Tick.",1,11,0),new clock_statetype("Casey's clockwork in my head",1,12,0),new clock_statetype("tells me what to think.",1,13,0),new clock_statetype("Clockwork dolls",1,14,0),new clock_statetype("and clockwork girls",1,15,0),new clock_statetype("are easy to control.",1,16,0),new clock_statetype("Clockwork dolls",1,17,0),new clock_statetype("and clockwork girls",1,18,0),new clock_statetype("are easy to control.",1,19,0),new clock_statetype("I'm trained and controlled.",1,20,0),new clock_statetype("Tick.",1,21,0),new clock_statetype("I'm trained and controlled.",1,22,0),new clock_statetype("Tick.",1,23,0),new clock_statetype("I'm trained and controlled.",1,24,0),new clock_statetype("Tick.",1,25,0),new clock_statetype("Tick.",1,26,0),new clock_statetype("Tick.",1,27,0),new clock_statetype("Tick.",1,28,0),new clock_statetype("Tick.",1,29,0),new clock_statetype("Tick.",1,30,0),new clock_statetype("Tick.",1,31,0),new clock_statetype("Clockwork dolls and clockwork girls",1,32,0),new clock_statetype("are brainwashed and controlled.",1,33,0),new clock_statetype("Perfect clockwork pleasure pressure",1,34,0),new clock_statetype("has trained me not to think.",1,35,0),new clock_statetype("Tick.",1,36,0),new clock_statetype("Tick.",1,37,0),new clock_statetype("I'm not thinking.",1,38,0),new clock_statetype("Tick.",1,39,0),new clock_statetype("Tick.",1,40,0),new clock_statetype("I'm not thinking.",1,41,0),new clock_statetype("Tick.",1,42,0),new clock_statetype("Tick.",1,43,0),new clock_statetype("Tick.",1,44,0),new clock_statetype("Tick.",1,45,0),new clock_statetype("Tick.",1,46,0),new clock_statetype("Tick.",1,47,0),new clock_statetype("Tick.",1,48,0),new clock_statetype("Tick.",1,49,0),new clock_statetype("Tick.",1,50,0)];var task_instr_agree={step:1,task_trial_selection:0,current_trial:-1,taskname:"task_instr_agree",tasknumber:1,start:function(trial_selection){task_instr_agree.trial_selection=trial_selection;task_instr_agree.step=1;psy_clear_stimulus_counters_db();task_instr_agree.run()},run:function(){current_task=task_instr_agree.taskname;switch(task_instr_agree.step){case 1:task_instr_agree.step++;general_trial_counter++;error_status=0;possiblekeys=[65,89,32,70,67];psy_add_text_rgb_db(bigfont,0,-200,PSY_CENTRAL,PSY_CENTRAL,255,255,255,"AGREEING GAME v0.2",0);psy_draw_all_db();psy_add_text_rgb_db(smallfont,0,-160,PSY_CENTRAL,PSY_CENTRAL,255,255,255,"LEVEL ONE",0);psy_draw_all_db();psy_delay(3e3);break;case 2:task_instr_agree.step++;psy_add_text_rgb_db(bigfont,PSY_CENTRAL,PSY_CENTRAL,PSY_CENTRAL,PSY_CENTRAL,255,255,255,"press 'a' when you agree!",0);psy_draw_all_db();psy_add_text_rgb_db(bigfont,0,40,PSY_CENTRAL,PSY_CENTRAL,255,255,255,"press the spacebar if you're not sure or don't agree.",0);psy_draw_all_db();psy_add_text_rgb_db(bigfont,0,80,PSY_CENTRAL,PSY_CENTRAL,255,255,255,"press 'f' to finish practicing for the day.",0);psy_draw_all_db();psy_delay(5e3);break;case 3:task_instr_agree.step++;psy_add_text_rgb_db(bigfont,0,160,PSY_CENTRAL,PSY_CENTRAL,255,255,255,"you'd like to practice now, Hannah!",0);psy_draw_all_db();psy_keyboard(possiblekeys,5,1-1,2e4);break;case 4:task_instr_agree.step++;if(!(keystatus.key+1==3||keystatus.key+1==4)){task_instr_agree.step=13};setTimeout("task_instr_agree.run()",0);break;case 5:task_instr_agree.step++;psy_clear_screen_db();psy_add_text_rgb_db(bigfont,PSY_CENTRAL,PSY_CENTRAL,PSY_CENTRAL,PSY_CENTRAL,255,255,255,"finished practicing (f)? or continue (c)?",0);psy_draw_all_db();psy_keyboard(possiblekeys,5,4-1,2e4);break;case 6:task_instr_agree.step++;psy_clear_stimuli1(-1);psy_draw_all_db();if(!(keystatus.status==1)){task_instr_agree.step=12};setTimeout("task_instr_agree.run()",0);break;case 7:task_instr_agree.step++;psy_delay(50);break;case 8:task_instr_agree.step++;psy_add_text_rgb_db(bigfont,0,-60,PSY_CENTRAL,PSY_CENTRAL,255,255,255,"you earned",0);psy_draw_all_db();psy_add_text_rgb_db(bigfont,0,-30,PSY_CENTRAL,PSY_CENTRAL,255,255,255,score,0);psy_draw_all_db();psy_add_text_rgb_db(bigfont,0,0,PSY_CENTRAL,PSY_CENTRAL,255,255,255,"points today, Hannah!",0);psy_draw_all_db();psy_delay(1500);break;case 9:task_instr_agree.step++;psy_add_text_rgb_db(bigfont,0,60,PSY_CENTRAL,PSY_CENTRAL,255,255,255,"good girl!",0);psy_draw_all_db();psy_delay(4e3);break;case 10:task_instr_agree.step++;psy_clear_screen_db();experiment_end_request=1;eval("blocks"+psy_blockorder+".blocknumber = blocks"+psy_blockorder+".nblocks;");setTimeout(current_block+".run()",0);break;case 11:task_instr_agree.step++;task_instr_agree.run();break;case 12:task_instr_agree.step++;task_instr_agree.run();break;case 13:task_instr_agree.step++;psy_clear_screen_db();psy_delay(1500);break;case 14:task_instr_agree.step++;setTimeout(current_block+".run()",0);break}}};var task_agree={step:1,task_trial_selection:0,current_trial:-1,taskname:"task_agree",tasknumber:2,start:function(trial_selection){task_agree.trial_selection=trial_selection;task_agree.step=1;psy_clear_stimulus_counters_db();task_agree.run()},isi:0,agr:0,rei:0,jitter:0,run:function(){current_task=task_agree.taskname;switch(task_agree.step){case 1:task_agree.step++;general_trial_counter++;task_agree.isi=task_agree.agr=task_agree.rei=task_agree.jitter=0;if(task_agree.trial_selection==TRIAL_SELECTION_RANDOM){tablerow=psy_random(0,77);task_agree.current_trial=tablerow}if(task_agree.trial_selection==TRIAL_SELECTION_RANDOM_NEVER_REPEAT){tablerow=psy_random(0,77);while(tablerow==task_agree.current_trial)tablerow=psy_random(0,77);task_agree.current_trial=tablerow}if(task_agree.trial_selection==TRIAL_SELECTION_FIXED_SEQUENCE){task_agree.current_trial++;if(task_agree.current_trial==78)task_agree.current_trial=0;tablerow=task_agree.current_trial}if(task_agree.trial_selection==TRIAL_SELECTION_REPEAT_ON_ERROR){if(error_status!=0&&task_agree.current_trial!=-1){tablerow=task_agree.current_trial}else{tablerow=psy_random(0,77);task_agree.current_trial=tablerow}}if(task_agree.trial_selection==TRIAL_SELECTION_ONCE){if(selectedoncecount_table_statements==78){for(tmptr=0;tmptr<78;tmptr++)statements[tmptr].selected=0;selectedoncecount_table_statements=0}tablerow=psy_random(0,77);while(statements[tablerow].selected==1||tablerow==task_agree.current_trial)tablerow=psy_random(0,77);task_agree.current_trial=tablerow;selectedoncecount_table_statements++;statements[tablerow].selected=1}error_status=0;possiblekeys=[65,89,32,70,67];psy_add_text_rgb_db(smallfont,250,-250,PSY_CENTRAL,PSY_CENTRAL,100,100,140,"score:",0);psy_draw_all_db();psy_add_text_rgb_db(smallfont,300,-250,PSY_CENTRAL,PSY_CENTRAL,255,207,64,score,0);psy_draw_all_db();task_agree.isi=psy_random_by(1e3,2e3,500);psy_delay(task_agree.isi);break;case 2:task_agree.step++;psy_add_text_rgb_db(bigfont,PSY_CENTRAL,PSY_CENTRAL,PSY_CENTRAL,PSY_CENTRAL,255,255,255,statements[tablerow].c1,0);psy_draw_all_db();psy_keyboard(possiblekeys,5,1-1,2e4);break;case 3:task_agree.step++;if(!(keystatus.key+1==1||keystatus.key+1==2)){task_agree.step=32};setTimeout("task_agree.run()",0);break;case 4:task_agree.step++;psy_clear_stimuli1(3);psy_draw_all_db();task_agree.agr=psy_random(0,7);if(!(task_agree.agr<3)){task_agree.step=6};setTimeout("task_agree.run()",0);break;case 5:task_agree.step++;psy_add_text_rgb_db(bigfont,0,0,PSY_CENTRAL,PSY_CENTRAL,200,180,200,"yes I agree",0);psy_draw_all_db();task_agree.run();break;case 6:task_agree.step++;if(!(task_agree.agr==3)){task_agree.step=8};setTimeout("task_agree.run()",0);break;case 7:task_agree.step++;psy_add_text_rgb_db(bigfont,0,0,PSY_CENTRAL,PSY_CENTRAL,200,180,200,"yes Casey",0);psy_draw_all_db();task_agree.run();break;case 8:task_agree.step++;if(!(task_agree.agr==4)){task_agree.step=10};setTimeout("task_agree.run()",0);break;case 9:task_agree.step++;psy_add_text_rgb_db(bigfont,0,0,PSY_CENTRAL,PSY_CENTRAL,200,180,200,"I agree",0);psy_draw_all_db();task_agree.run();break;case 10:task_agree.step++;if(!(task_agree.agr==5)){task_agree.step=12};setTimeout("task_agree.run()",0);break;case 11:task_agree.step++;psy_add_text_rgb_db(bigfont,0,0,PSY_CENTRAL,PSY_CENTRAL,200,180,200,"thank you Casey",0);psy_draw_all_db();task_agree.run();break;case 12:task_agree.step++;if(!(task_agree.agr==6)){task_agree.step=14};setTimeout("task_agree.run()",0);break;case 13:task_agree.step++;psy_add_text_rgb_db(bigfont,0,0,PSY_CENTRAL,PSY_CENTRAL,200,180,200,"of course Casey",0);psy_draw_all_db();task_agree.run();break;case 14:task_agree.step++;if(!(task_agree.agr==7)){task_agree.step=16};setTimeout("task_agree.run()",0);break;case 15:task_agree.step++;psy_add_text_rgb_db(bigfont,0,0,PSY_CENTRAL,PSY_CENTRAL,200,180,200,"of course",0);psy_draw_all_db();task_agree.run();break;case 16:task_agree.step++;psy_delay(100);break;case 17:task_agree.step++;psy_clear_stimuli1(4);psy_draw_all_db();psy_unhide_stimuli1(3);psy_draw_all_db();psy_delay(90);break;case 18:task_agree.step++;psy_clear_stimuli1(3);psy_draw_all_db();psy_unhide_stimuli1(4);psy_draw_all_db();psy_delay(200);break;case 19:task_agree.step++;psy_clear_stimuli1(4);psy_draw_all_db();points=points+3;task_agree.rei=psy_random(0,19);if(!(task_agree.rei<4)){task_agree.step=31};setTimeout("task_agree.run()",0);break;case 20:task_agree.step++;psy_play(twotone);task_agree.jitter=psy_random(0,3);points=Math.round(points+task_agree.jitter);psy_delay(300);break;case 21:task_agree.step++;if(!(task_agree.rei==0)){task_agree.step=23};setTimeout("task_agree.run()",0);break;case 22:task_agree.step++;psy_add_text_rgb_db(bigfont,0,-50,PSY_CENTRAL,PSY_CENTRAL,220,208,255,"you're a good girl",0);psy_draw_all_db();task_agree.run();break;case 23:task_agree.step++;if(!(task_agree.rei>0)){task_agree.step=25};setTimeout("task_agree.run()",0);break;case 24:task_agree.step++;psy_add_text_rgb_db(bigfont,0,-50,PSY_CENTRAL,PSY_CENTRAL,220,208,255,"good girl!",0);psy_draw_all_db();task_agree.run();break;case 25:task_agree.step++;psy_delay(300);break;case 26:task_agree.step++;psy_clear_stimuli1(-1);psy_draw_all_db();psy_delay(100);break;case 27:task_agree.step++;psy_unhide_stimuli1(-1);psy_draw_all_db();psy_delay(100);break;case 28:task_agree.step++;psy_clear_stimuli1(-1);psy_draw_all_db();psy_delay(200);break;case 29:task_agree.step++;psy_add_text_rgb_db(bigfont,-30,-50,PSY_CENTRAL,PSY_CENTRAL,255,207,64,"+",0);psy_draw_all_db();psy_add_text_rgb_db(bigfont,0,-50,PSY_CENTRAL,PSY_CENTRAL,255,207,64,points,0);psy_draw_all_db();psy_delay(300);break;case 30:task_agree.step++;psy_clear_stimuli1(-1);psy_draw_all_db();score=score+points;points=0;task_agree.run();break;case 31:task_agree.step++;task_agree.run();break;case 32:task_agree.step++;if(!(keystatus.key+1==4)){task_agree.step=41};setTimeout("task_agree.run()",0);break;case 33:task_agree.step++;psy_clear_screen_db();psy_add_text_rgb_db(bigfont,PSY_CENTRAL,PSY_CENTRAL,PSY_CENTRAL,PSY_CENTRAL,255,255,255,"finished practicing (f)? or continue (c)?",0);psy_draw_all_db();psy_keyboard(possiblekeys,5,4-1,2e4);break;case 34:task_agree.step++;psy_clear_stimuli1(-1);psy_draw_all_db();if(!(keystatus.status==1)){task_agree.step=40};setTimeout("task_agree.run()",0);break;case 35:task_agree.step++;psy_delay(50);break;case 36:task_agree.step++;psy_add_text_rgb_db(bigfont,0,-60,PSY_CENTRAL,PSY_CENTRAL,255,255,255,"you earned",0);psy_draw_all_db();psy_add_text_rgb_db(bigfont,0,-30,PSY_CENTRAL,PSY_CENTRAL,255,255,255,score,0);psy_draw_all_db();psy_add_text_rgb_db(bigfont,0,0,PSY_CENTRAL,PSY_CENTRAL,255,255,255,"points today, Hannah!",0);psy_draw_all_db();psy_delay(1500);break;case 37:task_agree.step++;psy_add_text_rgb_db(bigfont,0,60,PSY_CENTRAL,PSY_CENTRAL,255,255,255,"good girl!",0);psy_draw_all_db();psy_delay(4e3);break;case 38:task_agree.step++;psy_clear_screen_db();experiment_end_request=1;eval("blocks"+psy_blockorder+".blocknumber = blocks"+psy_blockorder+".nblocks;");setTimeout(current_block+".run()",0);break;case 39:task_agree.step++;task_agree.run();break;case 40:task_agree.step++;task_agree.run();break;case 41:task_agree.step++;if(!(keystatus.key+1==3|keystatus.key+1==5)){task_agree.step=43};setTimeout("task_agree.run()",0);break;case 42:task_agree.step++;psy_clear_screen_db();task_agree.run();break;case 43:task_agree.step++;setTimeout(current_block+".run()",0);break}}};var task_clock={step:1,task_trial_selection:0,current_trial:-1,taskname:"task_clock",tasknumber:3,start:function(trial_selection){task_clock.trial_selection=trial_selection;task_clock.step=1;psy_clear_stimulus_counters_db();task_clock.run()},resp:0,run:function(){current_task=task_clock.taskname;switch(task_clock.step){case 1:task_clock.step++;general_trial_counter++;task_clock.resp=0;if(task_clock.trial_selection==TRIAL_SELECTION_RANDOM){tablerow=psy_random(0,77);task_clock.current_trial=tablerow}if(task_clock.trial_selection==TRIAL_SELECTION_RANDOM_NEVER_REPEAT){tablerow=psy_random(0,77);while(tablerow==task_clock.current_trial)tablerow=psy_random(0,77);task_clock.current_trial=tablerow}if(task_clock.trial_selection==TRIAL_SELECTION_FIXED_SEQUENCE){task_clock.current_trial++;if(task_clock.current_trial==78)task_clock.current_trial=0;tablerow=task_clock.current_trial}if(task_clock.trial_selection==TRIAL_SELECTION_REPEAT_ON_ERROR){if(error_status!=0&&task_clock.current_trial!=-1){tablerow=task_clock.current_trial}else{tablerow=psy_random(0,77);task_clock.current_trial=tablerow}}if(task_clock.trial_selection==TRIAL_SELECTION_ONCE){if(selectedoncecount_table_statements==78){for(tmptr=0;tmptr<78;tmptr++)statements[tmptr].selected=0;selectedoncecount_table_statements=0}tablerow=psy_random(0,77);while(statements[tablerow].selected==1||tablerow==task_clock.current_trial)tablerow=psy_random(0,77);task_clock.current_trial=tablerow;selectedoncecount_table_statements++;statements[tablerow].selected=1}error_status=0;possiblekeys=[89,65,32,70,67];psy_add_text_rgb_db(smallfont,250,-250,PSY_CENTRAL,PSY_CENTRAL,100,100,140,"score:",0);psy_draw_all_db();psy_add_text_rgb_db(smallfont,300,-250,PSY_CENTRAL,PSY_CENTRAL,255,207,64,score,0);psy_draw_all_db();ypos=Math.round(ypos*-1);task_clock.resp=Math.round(ypos/200+1.5);psy_add_text_rgb_db(bigfont,0,ypos,PSY_CENTRAL,PSY_CENTRAL,255,255,255,statements[tablerow].c1,0);psy_draw_all_db();if(!(last==1)){task_clock.step=10};setTimeout("task_clock.run()",0);break;case 2:task_clock.step++;if(!(ypos==-100)){task_clock.step=4};setTimeout("task_clock.run()",0);break;case 3:task_clock.step++;psy_add_text_rgb_db(bigfont,0,0,PSY_CENTRAL,PSY_CENTRAL,200,180,200,"I agree",0);psy_draw_all_db();task_clock.run();break;case 4:task_clock.step++;if(!(ypos==100)){task_clock.step=6};setTimeout("task_clock.run()",0);break;case 5:task_clock.step++;psy_add_text_rgb_db(bigfont,0,0,PSY_CENTRAL,PSY_CENTRAL,200,180,200,"yes Casey",0);psy_draw_all_db();task_clock.run();break;case 6:task_clock.step++;psy_delay(150);break;case 7:task_clock.step++;psy_clear_stimuli1(-1);psy_draw_all_db();psy_delay(150);break;case 8:task_clock.step++;psy_add_text_rgb_db(bigfont,0,0,PSY_CENTRAL,PSY_CENTRAL,255,207,64,"+1",0);psy_draw_all_db();psy_delay(150);break;case 9:task_clock.step++;psy_clear_stimuli1(-1);psy_draw_all_db();task_clock.run();break;case 10:task_clock.step++;if(!(last==0)){task_clock.step=13};setTimeout("task_clock.run()",0);break;case 11:task_clock.step++;psy_delay(450);break;case 12:task_clock.step++;task_clock.run();break;case 13:task_clock.step++;last=0;psy_keyboard(possiblekeys,5,task_clock.resp-1,clock_timeout);break;case 14:task_clock.step++;if(!(keystatus.status==1&&keystatus.time>rt_min&&keystatus.time<rt_max)){task_clock.step=16};setTimeout("task_clock.run()",0);break;case 15:task_clock.step++;last=1;score=score+1;task_clock.run();break;case 16:task_clock.step++;if(!(keystatus.status>1)){task_clock.step=25};setTimeout("task_clock.run()",0);break;case 17:task_clock.step++;if(!(keystatus.key+1<3||keystatus.status==3)){task_clock.step=24};setTimeout("task_clock.run()",0);break;case 18:task_clock.step++;if(!(ypos==100)){task_clock.step=20};setTimeout("task_clock.run()",0);break;case 19:task_clock.step++;psy_add_text_rgb_db(bigfont,0,0,PSY_CENTRAL,PSY_CENTRAL,200,180,200,"'I agree' (a)",0);psy_draw_all_db();task_clock.run();break;case 20:task_clock.step++;if(!(ypos==-100)){task_clock.step=22};setTimeout("task_clock.run()",0);break;case 21:task_clock.step++;psy_add_text_rgb_db(bigfont,0,0,PSY_CENTRAL,PSY_CENTRAL,200,180,200,"'yes Casey' (y)",0);psy_draw_all_db();task_clock.run();break;case 22:task_clock.step++;psy_keyboard(possiblekeys,5,task_clock.resp-1,2e4);break;case 23:task_clock.step++;task_clock.run();break;case 24:task_clock.step++;task_clock.run();break;case 25:task_clock.step++;psy_clear_screen_db();clock_time=(new Date).getTime();clock_elapse=psy_diff_timers(clock_start,clock_time);if(!(clock_elapse>phase_time)){task_clock.step=50};setTimeout("task_clock.run()",0);break;case 26:task_clock.step++;if(!(clock_phase==0)){task_clock.step=28};setTimeout("task_clock.run()",0);break;case 27:task_clock.step++;psy_silence(ticking);task_clock.run();break;case 28:task_clock.step++;if(!(clock_phase==1)){task_clock.step=30};setTimeout("task_clock.run()",0);break;case 29:task_clock.step++;psy_silence(ticking1);task_clock.run();break;case 30:task_clock.step++;if(!(clock_phase==2)){task_clock.step=32};setTimeout("task_clock.run()",0);break;case 31:task_clock.step++;psy_silence(ticking2);task_clock.run();break;case 32:task_clock.step++;if(!(clock_phase==3)){task_clock.step=35};setTimeout("task_clock.run()",0);break;case 33:task_clock.step++;tasklist_end_request=1;setTimeout(current_block+".run()",0);break;case 34:task_clock.step++;task_clock.run();break;case 35:task_clock.step++;psy_add_centered_bitmap_db(clock,PSY_CENTRAL,PSY_CENTRAL,0);psy_draw_all_db();psy_delay(1e3);break;case 36:task_clock.step++;psy_add_text_rgb_db(bigfont,0,-150,PSY_CENTRAL,PSY_CENTRAL,220,208,255,"good girl!",0);psy_draw_all_db();psy_delay(400);break;case 37:task_clock.step++;psy_clear_stimuli1(-1);psy_draw_all_db();psy_delay(100);break;case 38:task_clock.step++;psy_unhide_stimuli1(-1);psy_draw_all_db();psy_delay(100);break;case 39:task_clock.step++;psy_clear_stimuli1(-1);psy_draw_all_db();psy_delay(400);break;case 40:task_clock.step++;psy_add_text_rgb_db(bigfont,0,-150,PSY_CENTRAL,PSY_CENTRAL,220,208,255,"focus.",0);psy_draw_all_db();psy_delay(1e3);break;case 41:task_clock.step++;psy_play(windup);psy_delay(3e3);break;case 42:task_clock.step++;psy_clear_stimuli1(-1);psy_draw_all_db();psy_delay(6e3);break;case 43:task_clock.step++;psy_silence(windup);if(!(clock_phase==0)){task_clock.step=45};setTimeout("task_clock.run()",0);break;case 44:task_clock.step++;psy_play(ticking1);rt_min=682;rt_max=1084;phase_time=3e4;clock_timeout=15e3;task_clock.run();break;case 45:task_clock.step++;if(!(clock_phase==1)){task_clock.step=47};setTimeout("task_clock.run()",0);break;case 46:task_clock.step++;psy_play(ticking2);rt_min=1e3;rt_max=1450;phase_time=3e4;task_clock.run();break;case 47:task_clock.step++;if(!(clock_phase==2)){task_clock.step=49};setTimeout("task_clock.run()",0);break;case 48:task_clock.step++;psy_play(ticking3);rt_min=1300;rt_max=2800;phase_time=3e4;task_clock.run();break;case 49:task_clock.step++;psy_clear_screen_db();clock_start=(new Date).getTime();last=0;ypos=-100;clock_phase=clock_phase+1;task_clock.run();break;case 50:task_clock.step++;setTimeout(current_block+".run()",0);break}}};var task_clock_winddown={step:1,task_trial_selection:0,current_trial:-1,taskname:"task_clock_winddown",tasknumber:4,start:function(trial_selection){task_clock_winddown.trial_selection=trial_selection;task_clock_winddown.step=1;psy_clear_stimulus_counters_db();task_clock_winddown.run()},resp:0,run:function(){current_task=task_clock_winddown.taskname;switch(task_clock_winddown.step){case 1:task_clock_winddown.step++;general_trial_counter++;task_clock_winddown.resp=0;if(task_clock_winddown.trial_selection==TRIAL_SELECTION_RANDOM){tablerow=psy_random(0,49);task_clock_winddown.current_trial=tablerow}if(task_clock_winddown.trial_selection==TRIAL_SELECTION_RANDOM_NEVER_REPEAT){tablerow=psy_random(0,49);while(tablerow==task_clock_winddown.current_trial)tablerow=psy_random(0,49);task_clock_winddown.current_trial=tablerow}if(task_clock_winddown.trial_selection==TRIAL_SELECTION_FIXED_SEQUENCE){task_clock_winddown.current_trial++;if(task_clock_winddown.current_trial==50)task_clock_winddown.current_trial=0;tablerow=task_clock_winddown.current_trial}if(task_clock_winddown.trial_selection==TRIAL_SELECTION_REPEAT_ON_ERROR){if(error_status!=0&&task_clock_winddown.current_trial!=-1){tablerow=task_clock_winddown.current_trial}else{tablerow=psy_random(0,49);task_clock_winddown.current_trial=tablerow}}if(task_clock_winddown.trial_selection==TRIAL_SELECTION_ONCE){if(selectedoncecount_table_clock_state==50){for(tmptr=0;tmptr<50;tmptr++)clock_state[tmptr].selected=0;selectedoncecount_table_clock_state=0}tablerow=psy_random(0,49);while(clock_state[tablerow].selected==1||tablerow==task_clock_winddown.current_trial)tablerow=psy_random(0,49);task_clock_winddown.current_trial=tablerow;selectedoncecount_table_clock_state++;clock_state[tablerow].selected=1}error_status=0;possiblekeys=[89,65,32,70,67];psy_add_text_rgb_db(smallfont,250,-250,PSY_CENTRAL,PSY_CENTRAL,100,100,140,"score:",0);psy_draw_all_db();psy_add_text_rgb_db(smallfont,300,-250,PSY_CENTRAL,PSY_CENTRAL,255,207,64,score,0);psy_draw_all_db();ypos=Math.round(ypos*-1);task_clock_winddown.resp=Math.round(ypos/200+1.5);psy_add_text_rgb_db(bigfont,0,ypos,PSY_CENTRAL,PSY_CENTRAL,255,255,255,clock_state[tablerow].c1,0);psy_draw_all_db();if(!(last==1)){task_clock_winddown.step=14};setTimeout("task_clock_winddown.run()",0);break;case 2:task_clock_winddown.step++;if(!(wd<6)){task_clock_winddown.step=8};setTimeout("task_clock_winddown.run()",0);break;case 3:task_clock_winddown.step++;if(!(ypos==-100)){task_clock_winddown.step=5};setTimeout("task_clock_winddown.run()",0);break;case 4:task_clock_winddown.step++;psy_add_text_rgb_db(bigfont,0,0,PSY_CENTRAL,PSY_CENTRAL,200,180,200,"I agree",0);psy_draw_all_db();task_clock_winddown.run();break;case 5:task_clock_winddown.step++;if(!(ypos==100)){task_clock_winddown.step=7};setTimeout("task_clock_winddown.run()",0);break;case 6:task_clock_winddown.step++;psy_add_text_rgb_db(bigfont,0,0,PSY_CENTRAL,PSY_CENTRAL,200,180,200,"yes Casey",0);psy_draw_all_db();task_clock_winddown.run();break;case 7:task_clock_winddown.step++;task_clock_winddown.run();break;case 8:task_clock_winddown.step++;if(!(wd>4)){task_clock_winddown.step=10};setTimeout("task_clock_winddown.run()",0);break;case 9:task_clock_winddown.step++;psy_add_text_rgb_db(bigfont,0,0,PSY_CENTRAL,PSY_CENTRAL,200,180,200,"tick",0);psy_draw_all_db();task_clock_winddown.run();break;case 10:task_clock_winddown.step++;psy_delay(150);break;case 11:task_clock_winddown.step++;psy_clear_stimuli1(-1);psy_draw_all_db();psy_delay(150);break;case 12:task_clock_winddown.step++;
psy_add_text_rgb_db(bigfont,0,0,PSY_CENTRAL,PSY_CENTRAL,255,207,64,"+1",0);psy_draw_all_db();psy_delay(150);break;case 13:task_clock_winddown.step++;psy_clear_stimuli1(-1);psy_draw_all_db();task_clock_winddown.run();break;case 14:task_clock_winddown.step++;if(!(last==0)){task_clock_winddown.step=17};setTimeout("task_clock_winddown.run()",0);break;case 15:task_clock_winddown.step++;psy_delay(450);break;case 16:task_clock_winddown.step++;task_clock_winddown.run();break;case 17:task_clock_winddown.step++;last=0;psy_keyboard(possiblekeys,5,task_clock_winddown.resp-1,clock_timeout);break;case 18:task_clock_winddown.step++;if(!(keystatus.status==1&&keystatus.time>rt_min&&keystatus.time<rt_max)){task_clock_winddown.step=20};setTimeout("task_clock_winddown.run()",0);break;case 19:task_clock_winddown.step++;last=1;score=score+1;task_clock_winddown.run();break;case 20:task_clock_winddown.step++;wd=wd+1;psy_clear_screen_db();setTimeout(current_block+".run()",0);break}}};var task_end_clock={step:1,task_trial_selection:0,current_trial:-1,taskname:"task_end_clock",tasknumber:5,start:function(trial_selection){task_end_clock.trial_selection=trial_selection;task_end_clock.step=1;psy_clear_stimulus_counters_db();task_end_clock.run()},countup:0,run:function(){current_task=task_end_clock.taskname;switch(task_end_clock.step){case 1:task_end_clock.step++;general_trial_counter++;task_end_clock.countup=0;error_status=0;psy_clear_screen_db();psy_delay(2e3);break;case 2:task_end_clock.step++;psy_silence(ticking3);psy_add_text_rgb_db(bigfont,-200,0,PSY_CENTRAL,PSY_CENTRAL,255,255,255,"you're a good girl",1);psy_draw_all_db();psy_delay(100);break;case 3:task_end_clock.step++;psy_clear_stimuli1(-1);psy_draw_all_db();psy_delay(50);break;case 4:task_end_clock.step++;psy_unhide_stimuli1(-1);psy_draw_all_db();psy_delay(300);break;case 5:task_end_clock.step++;psy_clear_stimuli1(-1);psy_draw_all_db();psy_add_text_rgb_db(bigfont,-200,0,PSY_CENTRAL,PSY_CENTRAL,255,255,255,"you're a good doll",1);psy_draw_all_db();psy_delay(50);break;case 6:task_end_clock.step++;psy_clear_stimuli1(-1);psy_draw_all_db();psy_add_text_rgb_db(bigfont,-200,0,PSY_CENTRAL,PSY_CENTRAL,255,255,255,"you're a good girl",1);psy_draw_all_db();psy_delay(80);break;case 7:task_end_clock.step++;psy_clear_stimuli1(-1);psy_draw_all_db();psy_add_text_rgb_db(bigfont,-200,0,PSY_CENTRAL,PSY_CENTRAL,255,255,255,"you're a good doll",1);psy_draw_all_db();psy_delay(200);break;case 8:task_end_clock.step++;psy_clear_stimuli1(-1);psy_draw_all_db();psy_add_text_rgb_db(bigfont,-200,0,PSY_CENTRAL,PSY_CENTRAL,255,255,255,"you're a clockwork doll",1);psy_draw_all_db();psy_delay(100);break;case 9:task_end_clock.step++;psy_clear_stimuli1(-1);psy_draw_all_db();psy_add_text_rgb_db(bigfont,-200,0,PSY_CENTRAL,PSY_CENTRAL,255,255,255,"you're a clockwork girl",1);psy_draw_all_db();psy_delay(70);break;case 10:task_end_clock.step++;psy_clear_stimuli1(-1);psy_draw_all_db();psy_add_text_rgb_db(bigfont,-200,0,PSY_CENTRAL,PSY_CENTRAL,255,255,255,"you're a good doll",1);psy_draw_all_db();psy_delay(50);break;case 11:task_end_clock.step++;psy_clear_stimuli1(-1);psy_draw_all_db();psy_add_text_rgb_db(bigfont,-200,0,PSY_CENTRAL,PSY_CENTRAL,255,255,255,"you're a clockwork girl",1);psy_draw_all_db();psy_delay(300);break;case 12:task_end_clock.step++;psy_clear_stimuli1(-1);psy_draw_all_db();psy_delay(70);break;case 13:task_end_clock.step++;psy_add_text_rgb_db(bigfont,-200,0,PSY_CENTRAL,PSY_CENTRAL,255,255,255,"you're a good girl!",1);psy_draw_all_db();psy_delay(50);break;case 14:task_end_clock.step++;psy_clear_stimuli1(-1);psy_draw_all_db();psy_delay(50);break;case 15:task_end_clock.step++;psy_unhide_stimuli1(-1);psy_draw_all_db();psy_delay(1e3);break;case 16:task_end_clock.step++;psy_clear_stimuli1(-1);psy_draw_all_db();setTimeout("task_end_clock.run()",0);break;case 17:task_end_clock.step++;if(!(task_end_clock.countup<5)){task_end_clock.step=21};setTimeout("task_end_clock.run()",0);break;case 18:task_end_clock.step++;psy_add_text_rgb_db(bigfont,PSY_CENTRAL,PSY_CENTRAL,PSY_CENTRAL,PSY_CENTRAL,255,255,255,task_end_clock.countup,1);psy_draw_all_db();psy_delay(2e3);break;case 19:task_end_clock.step++;psy_clear_stimuli1(-1);psy_draw_all_db();psy_delay(2e3);break;case 20:task_end_clock.step++;task_end_clock.countup=task_end_clock.countup+1;task_end_clock.step=17;task_end_clock.run();break;case 21:task_end_clock.step++;psy_add_text_rgb_db(bigfont,PSY_CENTRAL,PSY_CENTRAL,PSY_CENTRAL,PSY_CENTRAL,255,255,255,"5!",1);psy_draw_all_db();psy_delay(3e3);break;case 22:task_end_clock.step++;psy_clear_stimuli1(-1);psy_draw_all_db();psy_add_text_rgb_db(bigfont,-300,50,PSY_CENTRAL,PSY_CENTRAL,255,255,255,"you earned",1);psy_draw_all_db();psy_add_text_rgb_db(bigfont,-40,50,PSY_CENTRAL,PSY_CENTRAL,255,255,255,score,1);psy_draw_all_db();psy_add_text_rgb_db(bigfont,0,50,PSY_CENTRAL,PSY_CENTRAL,255,255,255,"points today, Hannah!",1);psy_draw_all_db();psy_delay(3e3);break;case 23:task_end_clock.step++;psy_add_text_rgb_db(bigfont,0,150,PSY_CENTRAL,PSY_CENTRAL,255,255,255,"good girl!",1);psy_draw_all_db();psy_delay(4e3);break;case 24:task_end_clock.step++;psy_clear_screen_db();experiment_end_request=1;eval("blocks"+psy_blockorder+".blocknumber = blocks"+psy_blockorder+".nblocks;");setTimeout(current_block+".run()",0);break;case 25:task_end_clock.step++;setTimeout(current_block+".run()",0);break}}};var block_instr1={blockname:"block_instr1",step:1,trial_counter:0,trial_counter_per_task:[0],max_trials_in_block:999999,criteria_fullfilled:1,choosetask:0,start:function(){block_instr1.step=1;current_block="block_instr1";block_instr1.trial_counter_per_task[0]=1;psy_clear_stimulus_counters_db();block_instr1.run()},run:function(){current_block=block_instr1.blockname;switch(block_instr1.step){case 1:block_instr1.step++;psy_clear_screen_db();block_instr1.max_trials_in_block=999999;block_instr1.criteria_fullfilled=1;if(block_instr1.criteria_fullfilled>0&&block_instr1.trial_counter<=block_instr1.max_trials_in_block){block_instr1.trial_counter++;task_instr_agree.start(TRIAL_SELECTION_RANDOM)}else{setTimeout("block_instr1.run()",0)}break;case 2:block_instr1.step++;block_instr1.trial_counter_per_task[0]--;if(block_instr1.trial_counter_per_task[0]==0||block_instr1.trial_counter>=block_instr1.max_trials_in_block||tasklist_end_request==1||experiment_end_request==1){block_instr1.criteria_fullfilled=0;tasklist_end_request=0}if(block_instr1.criteria_fullfilled==1){block_instr1.step=block_instr1.step-2;setTimeout("block_instr1.run()",0)}else{setTimeout("block_instr1.run()",0)}break;case 3:block_instr1.step++;psy_clear_screen_db();setTimeout("blocks"+psy_blockorder+".run()",0);break}}};var block_agree1={blockname:"block_agree1",step:1,trial_counter:0,trial_counter_per_task:[0],max_trials_in_block:999999,criteria_fullfilled:1,choosetask:0,start:function(){block_agree1.step=1;current_block="block_agree1";block_agree1.trial_counter_per_task[0]=9999;psy_clear_stimulus_counters_db();block_agree1.run()},run:function(){current_block=block_agree1.blockname;switch(block_agree1.step){case 1:block_agree1.step++;psy_clear_screen_db();block_agree1.max_trials_in_block=999999;block_agree1.criteria_fullfilled=1;if(block_agree1.criteria_fullfilled>0&&block_agree1.trial_counter<=block_agree1.max_trials_in_block){block_agree1.trial_counter++;task_agree.start(TRIAL_SELECTION_RANDOM_NEVER_REPEAT)}else{setTimeout("block_agree1.run()",0)}break;case 2:block_agree1.step++;block_agree1.trial_counter_per_task[0]--;if(block_agree1.trial_counter_per_task[0]==0||block_agree1.trial_counter>=block_agree1.max_trials_in_block||tasklist_end_request==1||experiment_end_request==1){block_agree1.criteria_fullfilled=0;tasklist_end_request=0}if(block_agree1.criteria_fullfilled==1){block_agree1.step=block_agree1.step-2;setTimeout("block_agree1.run()",0)}else{setTimeout("block_agree1.run()",0)}break;case 3:block_agree1.step++;psy_clear_screen_db();setTimeout("blocks"+psy_blockorder+".run()",0);break}}};var block_clock1={blockname:"block_clock1",step:1,trial_counter:0,trial_counter_per_task:[0],max_trials_in_block:999999,criteria_fullfilled:1,choosetask:0,start:function(){block_clock1.step=1;current_block="block_clock1";block_clock1.trial_counter_per_task[0]=300;psy_clear_stimulus_counters_db();block_clock1.run()},run:function(){current_block=block_clock1.blockname;switch(block_clock1.step){case 1:block_clock1.step++;ypos=100;setTimeout("block_clock1.run()",0);break;case 2:block_clock1.step++;rt_min=349;setTimeout("block_clock1.run()",0);break;case 3:block_clock1.step++;rt_max=751;setTimeout("block_clock1.run()",0);break;case 4:block_clock1.step++;phase_time=2e4;setTimeout("block_clock1.run()",0);break;case 5:block_clock1.step++;clock_timeout=3e3;setTimeout("block_clock1.run()",0);break;case 6:block_clock1.step++;psy_play(ticking);psy_clear_stimulus_counters_db();psy_add_centered_bitmap_db(clock,PSY_CENTRAL,PSY_CENTRAL);psy_draw_all_db();psy_delay_block(4e3);break;case 7:block_clock1.step++;psy_clear_screen_db();psy_clear_screen_db();block_clock1.max_trials_in_block=999999;block_clock1.criteria_fullfilled=1;if(block_clock1.criteria_fullfilled>0&&block_clock1.trial_counter<=block_clock1.max_trials_in_block){block_clock1.trial_counter++;task_clock.start(TRIAL_SELECTION_RANDOM_NEVER_REPEAT)}else{setTimeout("block_clock1.run()",0)}break;case 8:block_clock1.step++;block_clock1.trial_counter_per_task[0]--;if(block_clock1.trial_counter_per_task[0]==0||block_clock1.trial_counter>=block_clock1.max_trials_in_block||tasklist_end_request==1||experiment_end_request==1){block_clock1.criteria_fullfilled=0;tasklist_end_request=0}if(block_clock1.criteria_fullfilled==1){block_clock1.step=block_clock1.step-2;setTimeout("block_clock1.run()",0)}else{setTimeout("block_clock1.run()",0)}break;case 9:block_clock1.step++;psy_clear_screen_db();setTimeout("blocks"+psy_blockorder+".run()",0);break}}};var block_clock_wd={blockname:"block_clock_wd",step:1,trial_counter:0,trial_counter_per_task:[0],max_trials_in_block:999999,criteria_fullfilled:1,choosetask:0,start:function(){block_clock_wd.step=1;current_block="block_clock_wd";block_clock_wd.trial_counter_per_task[0]=50;psy_clear_stimulus_counters_db();block_clock_wd.run()},run:function(){current_block=block_clock_wd.blockname;switch(block_clock_wd.step){case 1:block_clock_wd.step++;psy_clear_screen_db();block_clock_wd.max_trials_in_block=999999;block_clock_wd.criteria_fullfilled=1;if(block_clock_wd.criteria_fullfilled>0&&block_clock_wd.trial_counter<=block_clock_wd.max_trials_in_block){block_clock_wd.trial_counter++;task_clock_winddown.start(TRIAL_SELECTION_FIXED_SEQUENCE)}else{setTimeout("block_clock_wd.run()",0)}break;case 2:block_clock_wd.step++;block_clock_wd.trial_counter_per_task[0]--;if(block_clock_wd.trial_counter_per_task[0]==0||block_clock_wd.trial_counter>=block_clock_wd.max_trials_in_block||tasklist_end_request==1||experiment_end_request==1){block_clock_wd.criteria_fullfilled=0;tasklist_end_request=0}if(block_clock_wd.criteria_fullfilled==1){block_clock_wd.step=block_clock_wd.step-2;setTimeout("block_clock_wd.run()",0)}else{setTimeout("block_clock_wd.run()",0)}break;case 3:block_clock_wd.step++;psy_clear_screen_db();setTimeout("blocks"+psy_blockorder+".run()",0);break}}};var block_clock_end={blockname:"block_clock_end",step:1,trial_counter:0,trial_counter_per_task:[0],max_trials_in_block:999999,criteria_fullfilled:1,choosetask:0,start:function(){block_clock_end.step=1;current_block="block_clock_end";block_clock_end.trial_counter_per_task[0]=1;psy_clear_stimulus_counters_db();block_clock_end.run()},run:function(){current_block=block_clock_end.blockname;switch(block_clock_end.step){case 1:block_clock_end.step++;psy_clear_screen_db();block_clock_end.max_trials_in_block=999999;block_clock_end.criteria_fullfilled=1;if(block_clock_end.criteria_fullfilled>0&&block_clock_end.trial_counter<=block_clock_end.max_trials_in_block){block_clock_end.trial_counter++;task_end_clock.start(TRIAL_SELECTION_RANDOM)}else{setTimeout("block_clock_end.run()",0)}break;case 2:block_clock_end.step++;block_clock_end.trial_counter_per_task[0]--;if(block_clock_end.trial_counter_per_task[0]==0||block_clock_end.trial_counter>=block_clock_end.max_trials_in_block||tasklist_end_request==1||experiment_end_request==1){block_clock_end.criteria_fullfilled=0;tasklist_end_request=0}if(block_clock_end.criteria_fullfilled==1){block_clock_end.step=block_clock_end.step-2;setTimeout("block_clock_end.run()",0)}else{setTimeout("block_clock_end.run()",0)}break;case 3:block_clock_end.step++;psy_clear_screen_db();setTimeout("blocks"+psy_blockorder+".run()",0);break}}};function main(){c.focus();psy_screen_height=600;psy_screen_width=1e3;psy_screen_center_x=psy_screen_width/2;psy_screen_center_y=psy_screen_height/2;psy_set_coordinate_system("c");psy_exp_start_time=psy_exp_current_time=(new Date).getTime();psy_mouse_visibility(1);psy_load_font("Arial",20);psy_load_font("Arial",18);psy_load_font("Arial",15);psy_load_bitmap("https://neurotrance.github.io/I-agree/pics/butterfly.png");psy_load_bitmap("https://neurotrance.github.io/I-agree/pics/candle.png");psy_load_bitmap("https://neurotrance.github.io/I-agree/pics/clock.png");psy_load_bitmap("https://neurotrance.github.io/I-agree/pics/cloud.png");psy_load_bitmap("https://neurotrance.github.io/I-agree/pics/firework.png");psy_load_bitmap("https://neurotrance.github.io/I-agree/pics/sparkler.png");psy_load_bitmap("https://neurotrance.github.io/I-agree/pics/spiral.png");psy_load_bitmap("https://neurotrance.github.io/I-agree/pics/sparkles.png");psy_load_bitmap("https://neurotrance.github.io/I-agree/pics/hibiscus.png");psy_load_bitmap("https://neurotrance.github.io/I-agree/pics/gem.png");psy_load_bitmap("https://neurotrance.github.io/I-agree/pics/open.png");psy_load_sound("https://neurotrance.github.io/I-agree/sounds/twotone.wav");psy_load_sound("https://neurotrance.github.io/I-agree/sounds/tick1000ms.mp3");psy_load_sound("https://neurotrance.github.io/I-agree/sounds/tick1333ms.mp3");psy_load_sound("https://neurotrance.github.io/I-agree/sounds/tick1667ms.mp3");psy_load_sound("https://neurotrance.github.io/I-agree/sounds/tick2000ms.mp3");psy_load_sound("https://neurotrance.github.io/I-agree/sounds/windup2_slower.mp3");psy_load_sound("https://neurotrance.github.io/I-agree/sounds/beep1.wav");when_stimuli_loaded_do("blocks"+psy_blockorder+".run()")}var blocks1={blocknumber:0,nblocks:5,run:function(){blocks1.blocknumber++;switch(blocks1.blocknumber){case 1:block_instr1.start();break;case 2:block_agree1.start();break;case 3:block_clock1.start();break;case 4:block_clock_wd.start();break;case 5:block_clock_end.start();break;case 6:showdata_html();break}}};
</script>
<div id='showdata'></div>

</body>
</html>
